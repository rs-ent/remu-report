(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[413],{60001:function(t,e,r){Promise.resolve().then(r.bind(r,29995))},55592:function(t,e,r){"use strict";var a=r(57437),n=r(2265),l=r(83574);e.Z=t=>{let{commentKey:e}=t,{report:r,updateReportFieldInContext:o}=(0,l.useReportContext)(),[i,c]=(0,n.useState)(!1),[s,u]=(0,n.useState)(""),d=(0,n.useRef)(null);(0,n.useEffect)(()=>{r&&r[e]&&u(r[e])},[r,e]);let m=async()=>{o(e,s),c(!1)};return(0,a.jsx)("div",{className:"mt-4",children:s||i?i?(0,a.jsxs)("div",{children:[(0,a.jsx)("textarea",{className:"w-full h-32 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:s,onChange:t=>u(t.target.value)}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2 mt-2",children:[(0,a.jsx)("button",{onClick:()=>{u(r?r[e]:""),c(!1)},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",children:"취소"}),(0,a.jsx)("button",{onClick:m,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"저장"})]})]}):(0,a.jsx)("p",{ref:d,tabIndex:0,className:"text-base text-gray-700 cursor-pointer focus:outline-none",onDoubleClick:()=>c(!0),children:s}):(0,a.jsx)("button",{onClick:()=>c(!0),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"코멘트 추가"})})}},8411:function(t,e,r){"use strict";var a=r(57437);r(2265),e.Z=()=>(0,a.jsx)("div",{className:"loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-32 w-32"})},83574:function(t,e,r){"use strict";r.r(e),r.d(e,{ReportProvider:function(){return i},useReportContext:function(){return c}});var a=r(57437),n=r(2265),l=r(83143);let o=(0,n.createContext)(void 0),i=t=>{let{children:e}=t,[r,i]=(0,n.useState)([]),[c,s]=(0,n.useState)(null),[u,d]=(0,n.useState)(!0),[m,_]=(0,n.useState)(null);(0,n.useEffect)(()=>{let t=async()=>{try{let t=await (0,l.U9)();i(t)}catch(e){let t=e instanceof Error?e.message:"알 수 없는 오류가 발생했습니다.";_(t)}finally{d(!1)}};t()},[]);let h=async t=>{d(!0);try{let e=r.find(e=>e.artist_eng===t);e?s(e):(_("해당 리포트를 찾을 수 없습니다."),s(null))}catch(e){let t=e instanceof Error?e.message:"알 수 없는 오류가 발생했습니다.";_(t)}finally{d(!1)}},p=async(t,e)=>{if(c){let r={...c,[t]:e};s(r),await (0,l.Y8)(c.artist_eng,t,e)}};return(0,a.jsx)(o.Provider,{value:{reports:r,report:c,loading:u,error:m,getReportByArtistEng:h,updateReportFieldInContext:p,setReport:s},children:e})},c=()=>{let t=(0,n.useContext)(o);if(!t)throw Error("useReportContext must be used within a ReportProvider");return t}},72420:function(t,e,r){"use strict";r.d(e,{db:function(){return i},t:function(){return c}});var a=r(20994),n=r(24086),l=r(69584);let o=(0,a.ZF)({apiKey:"AIzaSyCDkyA_EzL99SjudTHAYTwdFi6P--bn5HI",authDomain:"redslippers.firebaseapp.com",projectId:"redslippers",storageBucket:"redslippers.appspot.com",messagingSenderId:"263516861210",appId:"1:263516861210:web:5982131662655b0c32b2a3"}),i=(0,n.ad)(o),c=(0,l.cF)(o)},83143:function(t,e,r){"use strict";r.d(e,{Th:function(){return l},U9:function(){return o},Y8:function(){return i}});var a=r(24086),n=r(72420);let l=async t=>{let e=(0,a.hJ)(n.db,"Report"),r=await (0,a.PL)(e),l=null;return r.forEach(e=>{let r=e.data();if(r.artist_eng===t){var a;l={id:e.id,artist_eng:r.artist_eng,artist_kor:r.artist_kor,title:r.title,sub_title:r.sub_title,image_alpha:r.image_alpha,background:r.background||null,gallery:r.gallery||null,macro_marketGrowth_comment:r.macro_marketGrowth_comment||null,macro_marketGrowthDetail_comment:r.macro_marketGrowthDetail_comment||null,circlechart_target:r.circlechart_target||null,melon_artist_id:r.melon_artist_id||null,meso_circlechart_comment:r.meso_circlechart_comment||null,micro:{pastSections:(null===(a=r.micro)||void 0===a?void 0:a.pastSections)||[]}}}}),l},o=async()=>{let t=(0,a.hJ)(n.db,"Report"),e=await (0,a.PL)(t),r=[];return e.forEach(t=>{var e;let a=t.data();r.push({id:t.id,artist_eng:a.artist_eng||"",artist_kor:a.artist_kor||"",title:a.title||"IPO REPORT",sub_title:a.sub_title||"IPO 리포트",image_alpha:a.image_alpha||"",background:a.background||null,gallery:a.gallery||null,macro_marketGrowth_comment:a.macro_marketGrowth_comment||null,macro_marketGrowthDetail_comment:a.macro_marketGrowthDetail_comment||null,circlechart_target:a.circlechart_target||null,melon_artist_id:a.melon_artist_id||null,meso_circlechart_comment:a.meso_circlechart_comment||null,micro:{pastSections:(null===(e=a.micro)||void 0===e?void 0:e.pastSections)||[]}})}),r},i=async(t,e,r)=>{let l=(0,a.hJ)(n.db,"Report"),o=await (0,a.PL)(l),i=null;if(o.forEach(e=>{let r=e.data();r.artist_eng===t&&(i=e.id)}),i){let t=(0,a.JU)(n.db,"Report",i);await (0,a.r7)(t,{[e]:r})}else throw Error("Report not found")}}},function(t){t.O(0,[358,421,39,694,995,971,596,744],function(){return t(t.s=60001)}),_N_E=t.O()}]);