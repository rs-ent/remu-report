(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[572],{9698:function(e,t,a){Promise.resolve().then(a.bind(a,33724))},33724:function(e,t,a){"use strict";a.r(t);var l=a(57437),s=a(2265),n=a(24086),r=a(69584),i=a(72420);t.default=()=>{let[e,t]=(0,s.useState)(""),[a,c]=(0,s.useState)(""),[o,u]=(0,s.useState)(null),[d,m]=(0,s.useState)(null),[p,b]=(0,s.useState)(null),[x,h]=(0,s.useState)(!1),f=async l=>{l.preventDefault(),h(!0);try{let l="",s=null,x=null;if(o){let t=(0,r.iH)(i.t,"reports/".concat(e,"/image_alpha/").concat(o.name));await (0,r.KV)(t,o),l=await (0,r.Jt)(t)}if(p){let t=(0,r.iH)(i.t,"reports/".concat(e,"/background/").concat(p.name));await (0,r.KV)(t,p),s=await (0,r.Jt)(t)}if(d){let t=[];for(let a=0;a<d.length;a++){let l=d[a],s=(0,r.iH)(i.t,"reports/".concat(e,"/gallery/").concat(l.name));await (0,r.KV)(s,l);let n=await (0,r.Jt)(s);t.push(n)}t.length>0&&(x=t)}await (0,n.ET)((0,n.hJ)(i.db,"Report"),{artist_eng:e,artist_kor:a,title:"".concat(e," IPO REPORT"),sub_title:"".concat(a," IPO 리포트"),image_alpha:l,background:s,gallery:x}),alert("리포트가 성공적으로 생성되었습니다."),t(""),c(""),u(null),b(null),m(null)}catch(e){console.error("리포트 생성 중 오류 발생:",e),alert("리포트 생성에 실패하였습니다.")}finally{h(!1)}};return(0,l.jsxs)("div",{className:"max-w-xl mx-auto",children:[(0,l.jsx)("h2",{className:"text-3xl font-bold mb-6 text-primary",children:"새로운 리포트 생성"}),(0,l.jsxs)("form",{onSubmit:f,children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-dark text-sm font-bold mb-2",htmlFor:"artistEng",children:"아티스트명 (영문)"}),(0,l.jsx)("input",{id:"artistEng",type:"text",placeholder:"아티스트명을 영문으로 입력하세요",className:"input input-bordered w-full",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-dark text-sm font-bold mb-2",htmlFor:"artistKor",children:"아티스트명 (한글)"}),(0,l.jsx)("input",{id:"artistKor",type:"text",placeholder:"아티스트명을 한글로 입력하세요",className:"input input-bordered w-full",value:a,onChange:e=>c(e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-dark text-sm font-bold mb-2",children:"대표 이미지"}),(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:e=>u(e.target.files?e.target.files[0]:null),required:!0})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-dark text-sm font-bold mb-2",children:"배경 이미지 (선택 사항)"}),(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:e=>b(e.target.files?e.target.files[0]:null)})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-dark text-sm font-bold mb-2",children:"갤러리 이미지 (선택 사항, 여러 개 선택 가능)"}),(0,l.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>m(e.target.files)})]}),(0,l.jsx)("button",{type:"submit",className:"btn btn-primary w-full ".concat(x?"loading":""),disabled:x,children:x?"생성 중...":"리포트 생성"})]})]})}},72420:function(e,t,a){"use strict";a.d(t,{db:function(){return i},t:function(){return c}});var l=a(20994),s=a(24086),n=a(69584);let r=(0,l.ZF)({apiKey:"AIzaSyCDkyA_EzL99SjudTHAYTwdFi6P--bn5HI",authDomain:"redslippers.firebaseapp.com",projectId:"redslippers",storageBucket:"redslippers.appspot.com",messagingSenderId:"263516861210",appId:"1:263516861210:web:5982131662655b0c32b2a3"}),i=(0,s.ad)(r),c=(0,n.cF)(r)}},function(e){e.O(0,[358,421,971,596,744],function(){return e(e.s=9698)}),_N_E=e.O()}]);